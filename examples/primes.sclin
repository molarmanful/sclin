oo>~ 2n>O [] 3 .
=$n dup ; @
  ( 2^~ $n <= ) tk* .
  ( $n swap % ) all .
  ( $n +` $n n>O ) &# $n2+